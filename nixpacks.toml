[phases.setup]
nixPkgs = ["python311"]

[phases.install]
cmds = [
  "chmod +x install_chrome.sh || true",
  "bash install_chrome.sh || echo 'Chrome installation skipped (may not work in Nixpacks)'",
  "pip install --no-cache-dir -r requirements.txt"
]

[start]
cmd = "streamlit run app.py --server.port=8501 --server.address=0.0.0.0 --server.headless=true"

[variables]
STREAMLIT_SERVER_PORT = "8501"
STREAMLIT_SERVER_ADDRESS = "0.0.0.0"
STREAMLIT_SERVER_HEADLESS = "true"
STREAMLIT_BROWSER_GATHER_USAGE_STATS = "false"

